<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<style>
body {
	margin-top:50px;
	margin-bottom:200px;
}
</style>
<script>
	$(document).ready(function(){

		function getAtts($btn) {
			var atts = '';
			$btn.parent().parent().find('select.form-control').each(function() {
				atts += '<input type="hidden" name="' + $(this).attr('name') + '" value="' + $(this).val() + '">';
			});
			//alert(atts);
			return String(atts);
		}

		$('.add-to-cart').on('click', function(e){
			e.preventDefault();

			var $btn = $(this);
			var id = $btn.parent().parent().find('.product-id').val();
			var qty = $btn.parent().parent().find('.quantity').val();

			var $form = $('<form action="?page=cart.test&op=cart" method="post">').html('<input type="hidden" name="cart_action" value="add"><input type="hidden" name="id" value="' + id + '">' + getAtts($btn) + '<input type="hidden" name="qty" value="' + qty + '">');

			$('body').append($form);
			$form.submit();
		});

		$('.btn-update').on('click', function(){
			var $btn = $(this);
			var id = $btn.attr('data-id');
			var qty = $btn.parent().parent().find('.quantity').val();
			var hash = $btn.attr('data-hash');

			var $form = $('<form action="?page=cart.test&op=cart" method="post">').html('<input type="hidden" name="cart_action" value="update"><input type="hidden" name="id" value="' + id + '"><input type="hidden" name="qty" value="' + qty + '"><input type="hidden" name="hash" value="' + hash + '">');

			$('body').append($form);
			$form.submit();
		});

		$('.btn-remove').on('click', function(){
			var $btn = $(this);
			var id = $btn.attr('data-id');
			var hash = $btn.attr('data-hash');

			var $form = $('<form action="?page=cart.test&op=cart" method="post">').html('<input type="hidden" name="cart_action" value="remove"><input type="hidden" name="id" value="' + id + '"><input type="hidden" name="hash" value="' + hash + '">');

			$('body').append($form);
			$form.submit();
		});

		$('.btn-empty-cart').on('click', function(){
			var $form = $('<form action="?page=cart.test&op=cart" method="post">').html('<input type="hidden" name="cart_action" value="empty">');

			$('body').append($form);
			$form.submit();
		});
	});
</script>